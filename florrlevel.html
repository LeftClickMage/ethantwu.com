<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" type="image/jpeg" href="public/logos/lcm-logo.png">
    <title>Ethan Twu - Florr Level Calculator</title>
    <meta name="description" content="Calculate everything about florr leveling and SP for the level revamp in florr.io!">
    <meta name="keywords" content="Ethan Twu, Ethan Twu Millburn NJ, LeftClickMage, YukiThePomsky, MLightning, FairOPShotgun">
    <link rel="stylesheet" href="public/css/bootstrap.min.css">
    <link rel="stylesheet" href="/public/fonts/ubuntu.css?version=1.0.1">
    <link rel="stylesheet" href="/public/slideAnimations.css?version=1.0.3">
    <script src="public/js/bootstrap.bundle.min.js"></script>
    <style>

    html,body{
      font-family:'Ubuntu', sans-serif;
      color:white;
    }


   
    </style>
  </head>
  <body>
    <!-- Nav Code -->
    <script src="/public/navigation/homeNav.js?version=2.3.1"></script>
    <script src="/public/downtime.js"></script>
    <!-- three.js package -->
    <script async src="/public/js/moduleChecker.js"></script>
	  <script type="importmap">
		{
			"imports": {
				"three": "/public/js/three/three.js",
				"three/addons/": "/public/js/three/jsm/"
			}
		}
	  </script>
    <!-- Background Code-->
    <link rel="stylesheet" href="/public/backgrounds/background.css">
    <canvas id = "overallBackground" class="background" style="z-index:-1; top:0; left:0;"></canvas>
    <script type="module" src="/public/backgrounds/index.js?version=1.0.2"></script>


<div class="d-flex align-items-center" style="min-height:40vh;">
    <div class="container-md text-center mt-5">
        <h1 class="display-2 mt-5"><span class="badge bg-info">Level Revamp</span> Florr Level Calculator</h1>
    </div>
</div>
<div id="petalsNeeded" class="my-5 container-md text-center">
<p>Amount of commons needed: <span id="common"></span></p>
<p>Amount of unusuals needed: <span id="unusual"></span></p>
<p>Amount of rares needed: <span id="rare"></span></p>
<p>Amount of epics needed: <span id="epic"></span></p>
<p>Amount of legendaries needed: <span id="leg"></span></p>
<p>Amount of mythics needed: <span id="mythic"></span></p>
<p class="text-info">Shameless plug: <a href="https://youtube.com/@mlightning" target ="_blank" class="text-danger">MLightning</a> (Florr.io Youtube Channel)</p>
</div>
<div id="levelAmount" class="my-5 container-md text-center">
<p>You will get to level: <span id="level"></span></p>
<p class="text-info">Shameless plug: <a href="https://youtube.com/@mlightning" target ="_blank" class="text-danger">MLightning</a> (Florr.io Youtube Channel)</p>
</div>
<div id="levelAmountFromExp" class="my-5 container-md text-center">
    <p>You need to be level: <span id="levelfe"></span>. Use "Level --> Needed Petals" next!</p>
    <p class="text-info">Shameless plug: <a href="https://youtube.com/@mlightning" target ="_blank" class="text-danger">MLightning</a> (Florr.io Youtube Channel)</p>
    </div>
<div class="container text-center">
    <button onclick="spToLevel()" class="btn btn-success mx-2 my-2">SP --> Needed Levels</button>

    <button onclick="petalsNeeded()" class="btn btn-danger mx-2 my-2">Level --> Needed Petals</button>
    <button onclick="petalsExp()" class="btn btn-danger mx-2 my-2">Amount of Petals --> Level</button>
    <button onclick="expToLevel()" class="btn btn-danger mx-2 my-2">Amount of EXP --> Level</button>
</div>
<script>
    var common = 1;
var unusual = 5;
var rare = 50;
var epic = 500;
var legendary = 10000;
var mythic = 500000;
var petalsNeededDiv = document.getElementById('petalsNeeded');
document.body.removeChild(petalsNeededDiv);
var levelAmount = document.getElementById('levelAmount');
document.body.removeChild(levelAmount);
var levelAmountFromExp = document.getElementById('levelAmountFromExp');
document.body.removeChild(levelAmountFromExp);
function petalsNeeded(){
    if(document.body.contains(levelAmount)){
        document.body.removeChild(levelAmount);

    }
    if(document.body.contains(levelAmountFromExp)){
        document.body.removeChild(levelAmountFromExp);
    }
  document.body.appendChild(petalsNeededDiv);
  var levelC = prompt("What level are you right now?");
  var expC=0;
  for(let u = 1;u<parseInt(levelC, 10);u++){
    expC += 20*(Math.floor(u * Math.pow(1.05,u-1)));
  }
  console.log(expC);

  var level = prompt("What level do you want to get to?");
  var exp=0;
  for(let i = 1;i<parseInt(level, 10);i++){
    exp += 20*(Math.floor(i * Math.pow(1.05,i-1)));
  }
  exp-=expC;
  document.getElementById('common').innerHTML = exp/common;
  document.getElementById('unusual').innerHTML = exp/unusual;
  document.getElementById('rare').innerHTML = exp/rare;
  document.getElementById('epic').innerHTML = exp/epic;
  document.getElementById('leg').innerHTML = exp/legendary;
  document.getElementById('mythic').innerHTML = exp/mythic;
  
}

function petalsExp(){
    if(document.body.contains(petalsNeededDiv)){
        document.body.removeChild(petalsNeededDiv);

    }
    if(document.body.contains(levelAmountFromExp)){
        document.body.removeChild(levelAmountFromExp);
    }
    var petalType = prompt("What rarity of petal will you be crafting? \n1: common\n2: unusual\n3: rare\n4: epic\n5: legendary\n6: mythic", "Enter your number here");
    
    if (petalType >=1 && petalType <=6){
        
        var amount = prompt("How many petals will you be crafting");
        amount = parseInt(amount, 10);
    if(Number.isFinite(amount)){
    var exp;
    if (petalType == 1){
        exp = common*amount;
    } else if (petalType == 2){
    exp = amount*unusual;
    } else if (petalType == 3){
    exp = amount*rare;
    } else if (petalType == 4){
    exp = amount*epic;
    } else if (petalType == 5){
    exp = amount*legendary;
    } else if (petalType == 6){
    exp = amount*mythic;
    
    
}
    var i = 1;
    var exper = 0;
    var levelC = prompt("What level are you right now?");
  var expC=0;
  for(let z = 1;z<parseInt(levelC, 10);z++){
    expC += 20*(Math.floor(z * Math.pow(1.05,z-1)));
  }
  exp+=expC;
    while(true){
        exper += 20*(Math.floor(i * Math.pow(1.05,i-1)));
        var levelAttempt = exp;
        if (exper > levelAttempt){
            break;
        }
        i++;
    }

    document.body.appendChild(levelAmount);
    document.getElementById("level").innerHTML = i;
    
    } else {
        alert("Please enter a number!");
    }

} else {
    alert("Please pick from the choices!");
}
    }

    function expToLevel() {
        if(document.body.contains(petalsNeededDiv)){
        document.body.removeChild(petalsNeededDiv);

    }
    if(document.body.contains(levelAmountFromExp)){
        document.body.removeChild(levelAmountFromExp);
    }
    var exp = prompt("How much EXP are you spending?");
        exp = parseInt(exp, 10);
    if(Number.isFinite(exp)){
    var i = 1;
    var levelC = prompt("What level are you right now?");
  var expC=0;
  for(let c = 1;c<parseInt(levelC, 10);c++){
    expC += 20*(Math.floor(c * Math.pow(1.05,c-1)));
  }
  console.log(expC)
  exp+=expC;
    var exper = 0;
    while(true){
        exper += 20*(Math.floor(i * Math.pow(1.05,i-1)));
        var levelAttempt = exp;
        if (exper > levelAttempt){
            break;
        }
        i++;
    }
    document.body.appendChild(levelAmount);
    document.getElementById("level").innerHTML = i;
    
    } else{
        alert("Please enter a number!");
    }
}
function spToLevel(){
    //lvl-1+lvl/5*2
    if(document.body.contains(petalsNeededDiv)){
        document.body.removeChild(petalsNeededDiv);

    }
    if(document.body.contains(levelAmount)){
        document.body.removeChild(levelAmount);

    }
    var exp = prompt("How many more Skill Points do you need?");
        exp = parseInt(exp, 10);
    if(Number.isFinite(exp)){
    var i = 1;
    var levelC = prompt("What level are you right now?");
    levelC = parseInt(levelC, 10);
  var spC=0;
        while(true){
            levelC++;
            if(levelC%10==0){
               spC+=5;
                
            } else if(levelC%5==0){
                spC+=3;
            } else {
                spC+=1;
            }
            if(spC >=exp){
                break;
            }
        }
  
    document.body.appendChild(levelAmountFromExp);
    document.getElementById("levelfe").innerHTML = levelC;
    
    } else{
        alert("Please enter a number!");
    }
}
   
</script>



      
     
  </body>
</html>

